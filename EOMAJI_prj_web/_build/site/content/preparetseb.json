{"kind":"Notebook","sha256":"59ea7cbbbe0cb3de1b6d8c03f8977fddb670206a767955f0cac06c9e161cdbca","slug":"preparetseb","location":"/prepareTSEB.ipynb","dependencies":[],"frontmatter":{"title":"Data preprocessing for pyTSEB-PT","content_includes_title":false,"open_access":true,"license":{"content":{"id":"CC-BY-4.0","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true,"url":"https://creativecommons.org/licenses/by/4.0/"}},"exports":[{"format":"ipynb","filename":"prepareTSEB.ipynb","url":"/prepareTSEB-6047963dc2d314a2f987115fe2be9f52.ipynb"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"code","lang":"python","executable":true,"value":"import os \nimport sys\nsys.path.append(\"../lib/\") # go to parent dir\nimport utils_pyTSEB","key":"PmMm7cJQkw"},{"type":"output","id":"vM1FQNDXxTnO5AEBbd9RW","data":[],"key":"TCizdhg2Qo"}],"data":{"type":"notebook-code"},"key":"iG0yvDym4q"},{"type":"block","children":[{"type":"code","lang":"python","executable":true,"value":"import geopandas as gpd\nimport shapely as shp\n#import leafmap\n#import contextily as cx\n#import geoplot\nimport rioxarray as rxr","key":"bUBmRmd7Ts"},{"type":"output","id":"tH7FEdOhHCYFNGii1-fov","data":[],"key":"dgdXtpsPhX"}],"data":{"type":"notebook-code"},"key":"If5YsXgChD"},{"type":"block","children":[{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"EOMAJI","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ogXOmakhKE"}],"key":"iB3Q77Ap7r"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"This project aims to implement a prototype for irrigation mapping and crop yield estimation using inputs from the scientific ECOSTRESS and PRISMA missions.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"RzwIQoPoBW"}],"key":"tiUcLcEXX9"},{"type":"heading","depth":2,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Project funding:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"jgkSjdlLmQ"}],"identifier":"project-funding","label":"Project funding:","html_id":"project-funding","implicit":true,"key":"PTXoGPDR1v"}],"key":"VHZ8Vpjenw"}],"data":{"type":"notebook-content"},"key":"yUNwaLUfPp"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Fetch the files","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qZHAEnsKhc"}],"identifier":"fetch-the-files","label":"Fetch the files","html_id":"fetch-the-files","implicit":true,"key":"DKk3qxlp9Y"}],"data":{"type":"notebook-content"},"key":"coA5hpY5gv"},{"type":"block","children":[{"type":"code","lang":"python","executable":true,"value":"#%% Read AOI points and plots\nsouth_africa_aoi = gpd.read_file('../data/AOI/south_africa_aoi.geojson')\nmajadas_aoi = gpd.read_file('../data/AOI/majadas_aoi.geojson')\nguateng_province = gpd.read_file('../data/AOI/guateng_province.geojson')\nburkina_faso_aoi = gpd.read_file('../data/AOI/burkina_faso_aoi.geojson')","key":"f2SyZ2KDnG"},{"type":"output","id":"OO0c_QlFHdSLsNSYTpaDZ","data":[],"key":"QR2XzG6842"}],"data":{"type":"notebook-code"},"key":"dEPODqXWha"},{"type":"block","children":[{"type":"code","lang":"python","executable":true,"value":"south_africa_aoi.crs\nsouth_africa_aoi_wm = south_africa_aoi.to_crs(epsg=3857)\nax = south_africa_aoi_wm.plot(figsize=(10, 10), alpha=0.5, edgecolor=\"k\")\ncx.add_basemap(ax)\nax.set_axis_off()","key":"V40KaDf1Qc"},{"type":"output","id":"yZuM-l-XNUzECA3TXtsk1","data":[{"ename":"NameError","evalue":"name 'cx' is not defined","output_type":"error","traceback":"\u001b[0;31m---------------------------------------------------------------------------\u001b[0m\n\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)\nCell \u001b[0;32mIn[13], line 4\u001b[0m\n\u001b[1;32m      2\u001b[0m south_africa_aoi_wm \u001b[38;5;241m=\u001b[39m south_africa_aoi\u001b[38;5;241m.\u001b[39mto_crs(epsg\u001b[38;5;241m=\u001b[39m\u001b[38;5;241m3857\u001b[39m)\n\u001b[1;32m      3\u001b[0m ax \u001b[38;5;241m=\u001b[39m south_africa_aoi_wm\u001b[38;5;241m.\u001b[39mplot(figsize\u001b[38;5;241m=\u001b[39m(\u001b[38;5;241m10\u001b[39m, \u001b[38;5;241m10\u001b[39m), alpha\u001b[38;5;241m=\u001b[39m\u001b[38;5;241m0.5\u001b[39m, edgecolor\u001b[38;5;241m=\u001b[39m\u001b[38;5;124m\"\u001b[39m\u001b[38;5;124mk\u001b[39m\u001b[38;5;124m\"\u001b[39m)\n\u001b[0;32m----> 4\u001b[0m \u001b[43mcx\u001b[49m\u001b[38;5;241m.\u001b[39madd_basemap(ax)\n\u001b[1;32m      5\u001b[0m ax\u001b[38;5;241m.\u001b[39mset_axis_off()\n\n\u001b[0;31mNameError\u001b[0m: name 'cx' is not defined"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"fe7ca2d266f59dace60ad90efcaa0f0a","path":"/fe7ca2d266f59dace60ad90efcaa0f0a.png"},"text/plain":{"content":"<Figure size 1000x1000 with 1 Axes>","content_type":"text/plain"}}}],"key":"thTKLIUMZJ"}],"data":{"type":"notebook-code"},"key":"cvbwRXiuNj"}],"key":"GVNNLcf3hy"},"references":{"cite":{"order":[],"data":{}}}}